<% if @my_products.count <= 0 %>
  <h1 class="page-heading">No products added. Please add one first!</h1>
  <div class="new-product">
    <%= link_to "New Product", new_product_path,  class: 'btn btn-dark' %>
  </div>
<% else %>
  <div class="page-heading">Products List</div><br/>
  <table class="table table-bordered">
    <thead class="heading thead-dark">
      <tr>
        <th scope="col">Product Name: </th>
        <th scope="col">Product Price: </th>
        <th scope="col">Product Material: </th>
        <th scope="col">Product Vendor: </th>
        <th scope="col">Product Shipping Fees: </th>
        <th scope="col">Added Tax: </th>
        <th scope="col">Stock Available: </th>
        <th colspan="3">Actions:</th>
      </tr>
    </thead>
    <tbody>
      <% @my_products.each do |product| %>
        <tr>
          <td><%= link_to product.product_name, product_path(product), class: 'product-link' %></td>
          <td><%= product.price%> $</td>
          <td><%= product.material%></td>
          <td><%= product.vendor%></td>
          <td><%= product.shipping_fees%> $</td>
          <td><%= product.tax %> $</td>
          <% if product.stock_quantity >= 1 %>
            <td>Yes</td>
          <% else %>
            <td>No</td>
          <% end %>
          <td>
            <%= link_to "Edit", edit_product_path(product), class:"btn-sm btn-secondary" %>
            <%= link_to 'Delete', product, data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class: 'btn-sm btn-dark' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table><br>
  <div class="new-product">
    <%= link_to "New Product", new_product_path,  class: 'btn-sm btn-dark' %>
  </div>
<% end %>
